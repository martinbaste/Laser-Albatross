<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/wilzbach/msa/master/css/msa.css">
  </head>
  <body>
    <script src="https://cdn.bio.sh/msa/latest/msa.min.gz.js"></script>
    <script src="https://drone.io/github.com/greenify/biojs-vis-easy_features/files/build/biojs_vis_easy_features.min.js"></script>


    <div id='snippetDiv'></div>
    <div id='feature'></div>

    <script>
      var gffParser = msa.io.gff;
      var xhr = msa.io.xhr;
      xhr("https://raw.githubusercontent.com/martinbaste/Laser-Albatross/html-output/test.gff", function(err, request, body) {
        var features = gffParser.parseSeqs(body);
        m.seqs.addFeatures(features);
      });
      var seqs = [
          {
              "id": "Ht",
              "name": "Ht",
              "seq": "-MSGKETFAFNADIRQLMSLIINTFYSNKEIFLRELISNASDALDKIRYESITDPDKLSSEPDLFIRIIPDKTNNTLTIEDSGIGMTKNDLINNLGTIARSGTKAFMEAIQAGGDISMIGQFGVGFYSAYLVADSVVVISKNNDDEQYVWESAAGGSFTVTKDET-HEKMGRGTKIILHLKEDQLEYLEEKRIKDLVKKHSEFIAFPISLYCERQNEKEITASEDEEDEKKKEGE----------ADEEKKEDNEENKERPKVEDVTEELEKAEEK--KEKKRKKVHTVEHEWEELNKQKPLWLRKPEEVTNEEYASFYKSLTNDWEDHLAVKHFSVEGQLEFKALLFIPKRAPFDMFENRKKRNNIKLYVRRVFIMDDCEELIPEWLSFVKGVVDSEDLPLNISRESLQQNKILKVIKKNLIKKCLDMFSELAENKENYKKFYEQFSKNLKLGIHEDNVNRM-------------KITELLRFQTSKSGDEMIGLKEYVDRMKENQKDIYYITGESITAVANSPFLEALTRRGFEVIYMVDPIDEYAVQQLKDFDGKKLKCCSKEGLDFD--DSEDAKKDFETMKAEYEGLCKVIKDVLHEKVEKVV-------VGQRITDSPCVLVTSEFGWS"
          },
          {
              "id": "Pb",
              "name": "Pb",
              "seq": "--MSKETFAFNADIRQLMSLIINTFYSNKEIFLRELISNASDALDKIRYESITDTQKLQAEPEFFIRIIPDKTNNTLTIEDSGIGMTKNDLINNLGTIARSGTKAFMEAIQASGDISMIGQFGVGFYSAYLVADHVVVISKNNDDEQYVWESAAGGSFTVTKDET-NEKIGRGTKIILHLKEDQLEYLEEKRIKDLVKKHSEFISFPIKLYCERQNEKEITESE-EEAQDGEKKE--------DAEKKEDDGEQKDGEERPKVEDVTEELENAEKK--KEKRKKKIHTVEHEWEELNKQKPLWMRKPEEVTNEEYASFYKSLTNDWEDHLAVKHFSVEGQLEFKALLFIPKRAPFDMFENRKKRNNIKLYVRRVFIMDDCEEIIPEWLNFVKGVVDSEDLPLNISRESLQQNKILKVIKKNLIKKCLDMFAELAENKDNYKKFYEQFSKNLKLGIHEDNANRAKAYM-------QGVDIYTSLPH*-----------------------------------------------------------------------------------------------------------------------------------------------------"
          },
          {
              "id": "Pc",
              "name": "Pc",
              "seq": "IKMSKETFAFNADIRQLMSLIINTFYSNKEIFLRELISNASDALDKIRYEAITDTQKLSAEPEFYIRIIPDKTNNTLTIEDSGIGMTKNDLINNLGTIARSGTKAFMEAIQASGDISMIGQFGVGFYSAYLVADHVVVVSKNNDDEQYVWESAAGGSFTVTKDET-NEKMGRGTKIILHLKDDQLEYLEEKRIKDLVKKHSEFISFPIKLYCERQNEKEITASEDEVEDDDAEGEK------EKKEHNEEDEDKEKGDDHPKVEDVTEELENAEKKKKKEKKKKKIHTVEHEWEELNKQKPLWMRKPEEVTNEEYASFYKSLTNDWEDHLAVKHFSVEGQLEFKALLFIPKRAPFDMFENRKKRNNIKLYVRRVFIMDDCEEIIPEWLNFVKGVVDSEDLPLNISRESLQQNKILKVIKKNLIKKCLDMFSELAENKDNYKKFYEQFSKNLKLGIHEDNANRAKGENACVSRRLGKQITELLRFQTSKSGDEMIGLKEYVDRMKENQKDIYYITGESINAVSNSPFLEALTKKGFEVIYMVDPIDEYAVQQLKDFEGKKLKCCTKEGLDID--DSEEAKKTFETMKAEYEGLCKVIKDVLHEKVEKVV-------VGQRITDSPCVLVTSEFGWS"
          },
          {
              "id": "Pf",
              "name": "Pf",
              "seq": "--MSTETFAFNADIRQLMSLIINTFYSNKEIFLRELISNASDALDKIRYESITDTQKLSAEPEFFIRIIPDKTNNTLTIEDSGIGMTKNDLINNLGTIARSGTKAFMEAIQASGDISMIGQFGVGFYSAYLVADHVVVISKNNDDEQYVWESAAGGSFTVTKDET-NEKLGRGTKIILHLKEDQLEYLEEKRIKDLVKKHSEFISFPIKLYCERQNEKEITASEEEEGEGEGEREDESKEENEDEEKKEDNEEDDNKTDHPKVEDVTEELENAEKKK-KEKRKKKIHTVEHEWEELNKQKPLWMRKPEEVTNEEYASFYKSLTNDWEDHLAVKHFSVEGQLEFKALLFIPKRAPFDMFENRKKRNNIKLYVRRVFIMDDCEEIIPEWLNFVKGVVDSEDLPLNISRESLQQNKILKVIKKNLIKKCLDMFSELAENKENYKKFYEQFSKNLKLGIHEDNANRTKQNGY-----VYGNITELLRFQTSKSGDEMIGLKEYVDRMKENQKDIYYITGESINAVSNSPFLEALTKKGFEVIYMVDPIDEYAVQQLKDFDGKKLKCCTKEGLDID--DSEEAKKDFETLKAEYEGLCKVIKDVLHEKVEKVV-------VGQRITDSPCVLVTSEFGWS"
          },
          {
              "id": "Pk",
              "name": "Pk",
              "seq": "--MSKETFAFNADIRQLMSLIINTFYSNKEIFLRELISNASDALDKIRYESITDTQKLSAEPEFYIRIIPDKTNNTLTIEDSGIG-----------TIARSGTKAFMEAIQA----------------TYLVADHVVVVSKNNDDEQYVWESAAGGSFTVTKDES-NEKIGRGTKIILHLKDDQLEYLEEKRIKDLVKKHSEFISFPIKLYCERQNEKEITASEDEAEEEDADGE-----DKEKKEDNEEEEDKEKGDDHPKVEDVTEELENAEKKKKKEKRKKKIHTVEHEWEELNKQKPLWMRKPEEVTNEEYASFYKSLTNDWEDHLAVKHFSVEGQLEFKALLFIPKRAPFDMFENRKKRNNIKLYVRRVFIMDDCEEIIPEWLNFVKGVVDSEDLPLNISRESLQQNKILKVIKKNLIKKCLDMFSELAENKDNYKKFYEQFSKNLKLGIHEDNANRA-------------KITELLRFQTSKSGDEMIGLKEGDPLES---------------TCRRTRRISTTSRKGFEVIYMVDPIDEYAVQQLKDFEGKKLKCCTKEGLDID--DSEEAKKTFETMKAEYEGLCKVIKDVLHEKVEKVV-------VGQRITDSPCVLVTSEFGWS"
          },
          {
              "id": "Pv",
              "name": "Pv",
              "seq": "--MSKETFAFNADIRQLMSLIINTFYSNKEIFLRELISNASDALDKIRYEAITDTQKLSAEPEFFIRIIPDKTNNTLTIEDSGIGMTKNDLINNLGTIARSGTKAFMEAIQASGDISMIGQFGVGFYSAYLVADHVVVVSKNNDDEQYVWESAAGGSFTVTKDET-NEKMGRGTKIILHLKDDQLEYLEEKRIKDLVKKHSEFISFPIKLYCERQNEKEITASEDEAEEEDAEGEK------EKKEHNEEDEDKEKGEDHPKVEDVTEELENAEKKKKKEKKKKKIHTVEHEWEELNKQKPLWMRKPEEVTNEEYASFYKSLTNDWEDHLAVKHFSVEGQLEFKALLFIPKRAPFDMFENRKKRNNIKLYVRRVFIMDDCEEIIPEWLNFVKGVVDSEDLPLNISRESLQQNKILKVIKKNLIKKCLDMFSELAENKDNYKKFYEQFSKNLKLGIHEDNANRA-------------KITELLRFQTSKSGDEMIGLKEYVDRMKENQKDIYYITGESINAVSNSPFLEALTKKGFEVIYMVDPIDEYAVQQLKDFEGKKLKCCTKEGLDID--DSEEAKKTFETMKAEYEGLCKVIKDVLHEKVEKVV-------VGQRITDSPCVLVTSEFGWS"
          },
          {
              "id": "Py",
              "name": "Py",
              "seq": "--MSKETFAFNADIRQLMSLIINTFYSNKEIFLRELISNASDALDKIRYESITDTQKLQAEPEFFIRIIPDKTNNTLTIEDSGIGMTKNDLINNLGTIARSGTKAFMEAIQASGDISMIGQFGVGFYSAYLVADHVVVISKNNDDEQYVWESAAGGSFTVTKDET-NEKIGRGTKIILHLKEDQLEYLEEKRIKDLVKKHSEFISFPIKLYCERQNEKEITASEDEEAQDGEKKE--------DAEKKEDDGEQKDGEERPKVEDVTEELENAEKK--KEKKKKKIHTVEHEWEELNKQKPLWMRKPEEVTNEEYASFYKSLTNDWEDHLAVKHFSVEGQLEFKALLFIPKRAPFDMFENRKKRNNIKLYVRRVFIMDDCEEIIPEWLNFVKGVVDSEDLPLNISRESLQQNKILKVIKKNLIKKCLDMFAELAENKDNYKKFYEQFSKNLKLGIHEDNANRAKTFG-------IIKFIKQLIFQTSKSGDEMIGLKDYVDRMKDNQKDIYYITGESINAVSNSPFLEALTKRGFEVIYMVDPIDEYAVQQLKDFDGKKLKCCTKEGLDIE--DSEEEKKSFETLKAEYEGLCKVIKDVLHEKVEKVV-------VGQRITDSPCVLVTSEFGWS"
          },
          {
              "id": "Tg",
              "name": "Tg",
              "seq": "-MADTETFAFNADIQQLMSLIINTFYSNKEIFLRELISNASDALDKIRYEAITDPEKLKGAERLFIRIVPNKQNNTLTIEDDGIGMTKAELVNNLGTIARSGTKAFMEALQAGGDISMIGQFGVGFYSAYLVADKVTVVSRHNDDEMYVWESSAGGSFTVSKAEGQFENIVRGTRIILHMKEDQTEYLEDRRLKDLVKKHSEFISFPIELAVEKSVDKEITESEDEEKPAEDAEE-------------------EEGEE-----------EKKEEGAEKKKKTKKVKEVVVEYEQLNKQKPLWMRKPEDVTWEEYCAFYKSLTNDWEDPLAVKHFSVEGQLEFKALLFLPKRAPFDLFETRKKRNNVRLYVRRVFIMDDCEDLIPEWLNFVRGVVDSEDLPLNISRESLQQNKILKVIKKNLVKKCLEMFQELEEKKEDYTKFYEQFSKNLKLGIHEDTSNRN-------------KIAELLRFHTSKSGDDVVSLKEYVDRMKESQKDIYYITGESRQSVASSPFLEALRKKGYEVIYMTDPIDEYAVQQLKVRLRDFRSFFGYVEMKLPSPSSERFCLCFLTSRRRFE--CAFGSPYIHIPICICIYAYVYIHIYIYIYVYACASLHSEVKIS"
          }
      ];
      var rootDiv = document.getElementById('snippetDiv');
      /* global rootDiv */
      // set your custom properties

      var opts = {
        seqs : seqs
      };

      // set your custom properties
      // @see: https://github.com/wilzbach/biojs-vis-msa/tree/master/src/g
      opts.el = rootDiv;
      opts.vis = {
          conserv: false,
          overviewbox: false,
          seqlogo: true
      };
      opts.conf = {
          dropImport: true
      };
      opts.zoomer = {
          menuFontsize: "12px",
          autoResize: true
      };
      var Feature = biojs.vis.easy_features.model;
      var f1 = new Feature(2,20,"easy", "red");
      var f2 = new Feature(5,20,"component", "green");
      var f3 = new Feature(21,30,"feature", "blue");


      // init msa
      var m = new msa.msa(opts);

      renderMSA()
      var feats = new biojs.vis.easy_features.stage('snippetDiv',[f1,f2,f3]);

      function renderMSA() {

          // the menu is independent to the MSA container
          var menuOpts = {};
          menuOpts.el = document.getElementById('div');
          menuOpts.msa = m;
          menuOpts.menu = "small";
          var defMenu = new msa.menu.defaultmenu(menuOpts);
          m.addView("menu", defMenu);

          // call render at the end to display the whole MSA
          m.render();
      }
    </script>
  </body>
</html>
